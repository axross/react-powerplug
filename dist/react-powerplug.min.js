!(function(n, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('react'))
    : 'function' == typeof define && define.amd
      ? define(['exports', 'react'], t)
      : t((n.ReactPowerPlug = {}), n.React)
})(this, function(n, t) {
  'use strict'
  function e(n, t) {
    if (null == n) return {}
    var e,
      r,
      o = {},
      i = Object.keys(n)
    for (r = 0; i.length > r; r++) 0 > t.indexOf((e = i[r])) && (o[e] = n[e])
    if (Object.getOwnPropertySymbols) {
      var u = Object.getOwnPropertySymbols(n)
      for (r = 0; u.length > r; r++)
        0 > t.indexOf((e = u[r])) &&
          Object.prototype.propertyIsEnumerable.call(n, e) &&
          (o[e] = n[e])
    }
    return o
  }
  function r(n, t, e) {
    return (
      t in n
        ? Object.defineProperty(n, t, {
            value: e,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (n[t] = e),
      n
    )
  }
  function o(n) {
    for (var t = 1; arguments.length > t; t++) {
      var e = null != arguments[t] ? arguments[t] : {},
        o = Object.keys(e)
      'function' == typeof Object.getOwnPropertySymbols &&
        (o = o.concat(
          Object.getOwnPropertySymbols(e).filter(function(n) {
            return Object.getOwnPropertyDescriptor(e, n).enumerable
          })
        )),
        o.forEach(function(t) {
          r(n, t, e[t])
        })
    }
    return n
  }
  function i(n, t) {
    ;(n.prototype = Object.create(t.prototype)),
      (n.prototype.constructor = n),
      (n.__proto__ = t)
  }
  function u(n) {
    if (void 0 === n)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      )
    return n
  }
  var a = function(n) {
      for (
        var t = n.children,
          e = 'function' == typeof t ? t : n.render,
          r = arguments.length,
          o = Array(r > 1 ? r - 1 : 0),
          i = 1;
        r > i;
        i++
      )
        o[i - 1] = arguments[i]
      return e ? e.apply(void 0, o) : null
    },
    c = function() {},
    s = (function(n) {
      function t() {
        for (var t, e, i = arguments.length, a = Array(i), s = 0; i > s; s++)
          a[s] = arguments[s]
        return (
          (t = e = n.call.apply(n, [this].concat(a)) || this),
          r(u(u(e)), 'state', o({}, e.props.initial)),
          r(u(u(e)), '_setState', function(n, t) {
            void 0 === t && (t = c),
              e.setState(n, function() {
                e.props.onChange(e.state), t()
              })
          }),
          t || u(e)
        )
      }
      return (
        i(t, n),
        (t.prototype.render = function() {
          return a(this.props, { state: this.state, setState: this._setState })
        }),
        t
      )
    })(t.Component)
  r(s, 'defaultProps', { initial: {}, onChange: c })
  var l = function(n) {
      return 'function' == typeof n.type
    },
    f = function() {
      for (var n = arguments.length, e = Array(n), r = 0; n > r; r++)
        e[r] = arguments[r]
      return function(n) {
        return (function e(r, o, i) {
          void 0 === i && (i = [])
          var u = o[r],
            c = 0 === r
          return (l(u) ? t.cloneElement : t.createElement)(u, {}, function(t) {
            return c
              ? a.apply(void 0, [n].concat(i.concat(t)))
              : e(r - 1, o, i.concat(t))
          })
        })(e.length - 1, e.reverse())
      }
    },
    v = function(n, t) {
      return 'function' == typeof n ? n(t) : n
    },
    p = function(n) {
      return function(t) {
        return { count: t.count + n }
      }
    },
    d = (function(n) {
      function t() {
        for (var t, e, o = arguments.length, i = Array(o), a = 0; o > a; a++)
          i[a] = arguments[a]
        return (
          (t = e = n.call.apply(n, [this].concat(i)) || this),
          r(u(u(e)), 'state', { times: 0 }),
          r(u(u(e)), 'intervalId', void 0),
          r(u(u(e)), '_clearIntervalIfNecessary', function() {
            e.intervalId && (e.intervalId = clearInterval(e.intervalId))
          }),
          r(u(u(e)), '_setIntervalIfNecessary', function(n) {
            Number.isFinite(n) &&
              (e.intervalId = setInterval(function() {
                return e.setState(function(n) {
                  return { times: n.times + 1 }
                })
              }, n))
          }),
          r(u(u(e)), 'stop', function() {
            e._clearIntervalIfNecessary()
          }),
          r(u(u(e)), 'start', function(n) {
            e._setIntervalIfNecessary(
              'number' == typeof n
                ? n
                : null != e.props.delay
                  ? e.props.delay
                  : 1e3
            )
          }),
          r(u(u(e)), 'toggle', function() {
            e.intervalId ? e.stop() : e.start()
          }),
          t || u(e)
        )
      }
      i(t, n)
      var e = t.prototype
      return (
        (e.componentDidMount = function() {
          this.start()
        }),
        (e.componentDidUpdate = function(n) {
          n.delay !== this.props.delay && (this.stop(), this.start())
        }),
        (e.componentWillUnmount = function() {
          this.stop()
        }),
        (e.render = function() {
          return a(this.props, {
            start: this.start,
            stop: this.stop,
            toggle: this.toggle,
          })
        }),
        t
      )
    })(t.Component),
    h = function(n, t) {
      return -1 !== n.indexOf(t)
    }
  ;(n.Active = function(n) {
    var r = n.onChange,
      o = e(n, ['onChange'])
    return t.createElement(
      s,
      { initial: { isActive: !1 }, onChange: r },
      function(n) {
        var t = n.setState
        return a(o, {
          isActive: n.state.isActive,
          bind: {
            onMouseDown: function() {
              return t({ isActive: !0 })
            },
            onMouseUp: function() {
              return t({ isActive: !1 })
            },
          },
        })
      }
    )
  }),
    (n.Compose = function(n) {
      var t = n.components,
        r = e(n, ['components'])
      return f.apply(void 0, t)(r)
    }),
    (n.Counter = function(n) {
      var r = n.initial,
        o = void 0 === r ? 0 : r,
        i = n.onChange,
        u = e(n, ['initial', 'onChange'])
      return t.createElement(
        s,
        { initial: { count: o }, onChange: i },
        function(n) {
          var t = n.setState
          return a(u, {
            count: n.state.count,
            inc: function() {
              return t(p(1))
            },
            dec: function() {
              return t(p(-1))
            },
            incBy: function(n) {
              return t(p(n))
            },
            decBy: function(n) {
              return t(p(-n))
            },
            set: function(n) {
              return t(function(t) {
                return { on: v(n, t.on) }
              })
            },
          })
        }
      )
    }),
    (n.Focus = function(n) {
      var r = n.onChange,
        o = e(n, ['onChange'])
      return t.createElement(
        s,
        { initial: { isFocused: !1 }, onChange: r },
        function(n) {
          var t = n.setState
          return a(o, {
            isFocused: n.state.isFocused,
            bind: {
              onFocus: function() {
                return t({ isFocused: !0 })
              },
              onBlur: function() {
                return t({ isFocused: !1 })
              },
            },
          })
        }
      )
    }),
    (n.FocusManager = function(n) {
      var r = n.onChange,
        o = e(n, ['onChange'])
      return t.createElement(
        s,
        {
          initial: { isFocused: !1, timeoutId: null },
          onChange: function(n) {
            return r && r({ isFocused: n.isFocused })
          },
        },
        function(n) {
          var t = n.state,
            e = n.setState
          return a(o, {
            isFocused: t.isFocused,
            blur: function() {
              e({ isFocused: !1 })
            },
            bind: {
              tabIndex: -1,
              onBlur: function() {
                e({
                  timeoutId: setTimeout(function() {
                    e({ isFocused: !1 })
                  }),
                })
              },
              onFocus: function() {
                clearTimeout(t.timeoutId), e({ isFocused: !0 })
              },
            },
          })
        }
      )
    }),
    (n.Form = function(n) {
      var r = n.initial,
        i = void 0 === r ? {} : r,
        u = n.onChange,
        c = e(n, ['initial', 'onChange'])
      return t.createElement(s, { initial: o({}, i), onChange: u }, function(
        n
      ) {
        var t = n.state,
          e = n.setState
        return a(c, {
          values: o({}, t),
          input: function(n) {
            var r = t[n] || ''
            return {
              bind: {
                onChange: function(t) {
                  return e((((r = {})[n] = t.target.value), r))
                  var r
                },
                value: r,
              },
              set: function(t) {
                return e(function(e) {
                  var r
                  return ((r = {})[n] = v(t, e.value)), r
                })
              },
              value: r,
            }
          },
        })
      })
    }),
    (n.Hover = function(n) {
      var r = n.onChange,
        o = e(n, ['onChange'])
      return t.createElement(
        s,
        { initial: { isHovered: !1 }, onChange: r },
        function(n) {
          var t = n.setState
          return a(o, {
            isHovered: n.state.isHovered,
            bind: {
              onMouseEnter: function() {
                return t({ isHovered: !0 })
              },
              onMouseLeave: function() {
                return t({ isHovered: !1 })
              },
            },
          })
        }
      )
    }),
    (n.Input = function(n) {
      var r = n.initial,
        o = void 0 === r ? '' : r,
        i = n.onChange,
        u = e(n, ['initial', 'onChange'])
      return t.createElement(
        s,
        { initial: { value: o }, onChange: i },
        function(n) {
          var t = n.state,
            e = n.setState
          return a(u, {
            bind: {
              onChange: function(n) {
                return e({ value: n.target.value })
              },
              value: t.value,
            },
            set: function(n) {
              return e(function(t) {
                return { value: v(n, t.value) }
              })
            },
            value: t.value,
          })
        }
      )
    }),
    (n.Interval = d),
    (n.List = function(n) {
      var r = n.initial,
        o = void 0 === r ? [] : r,
        i = n.onChange,
        u = e(n, ['initial', 'onChange'])
      return t.createElement(s, { initial: { list: o }, onChange: i }, function(
        n
      ) {
        var t = n.state,
          e = n.setState
        return a(u, {
          list: t.list,
          first: function() {
            return t.list[0]
          },
          last: function() {
            return t.list[Math.max(0, t.list.length - 1)]
          },
          set: function(n) {
            return e(function(t) {
              return { list: v(n, t.list) }
            })
          },
          push: function() {
            for (var n = arguments.length, t = Array(n), r = 0; n > r; r++)
              t[r] = arguments[r]
            return e(function(n) {
              return { list: n.list.concat(t) }
            })
          },
          pull: function(n) {
            return e(function(t) {
              return {
                list: t.list.filter(
                  ((e = n),
                  function() {
                    return !e.apply(void 0, arguments)
                  })
                ),
              }
              var e
            })
          },
          sort: function(n) {
            return e(function(t) {
              return { list: t.list.concat().sort(n) }
            })
          },
        })
      })
    }),
    (n.Map = function(n) {
      var r = n.initial,
        i = void 0 === r ? {} : r,
        u = n.onChange,
        c = e(n, ['initial', 'onChange'])
      return t.createElement(s, { initial: o({}, i), onChange: u }, function(
        n
      ) {
        var t = n.state,
          e = n.setState
        return a(c, {
          values: t,
          set: function(n, t) {
            var r
            return e((((r = {})[n] = t), r))
          },
          over: function(n, t) {
            return e(function(e) {
              var r
              return ((r = {})[n] = t(e[n])), r
            })
          },
          get: function(n) {
            return t[n]
          },
        })
      })
    }),
    (n.Set = function(n) {
      var r,
        o = n.initial,
        i = void 0 === o ? [] : o,
        u = n.onChange,
        c = e(n, ['initial', 'onChange'])
      return t.createElement(
        s,
        {
          initial: {
            values: ((r = i),
            r.filter(function(n, t) {
              return r.indexOf(n) === t
            })),
          },
          onChange: u,
        },
        function(n) {
          var t = n.state,
            e = n.setState
          return a(c, {
            values: t.values,
            add: function(n) {
              return e({
                values: ((r = t.values), (o = n), h(r, o) ? r : r.concat([o])),
              })
              var r, o
            },
            clear: function() {
              return e({ values: [] })
            },
            remove: function(n) {
              return e({
                values: ((r = t.values),
                (o = n),
                h(r, o)
                  ? r.filter(function(n) {
                      return n !== o
                    })
                  : r),
              })
              var r, o
            },
            has: function(n) {
              return h(t.values, n)
            },
          })
        }
      )
    }),
    (n.State = s),
    (n.Toggle = function(n) {
      var r = n.initial,
        o = void 0 !== r && r,
        i = n.onChange,
        u = e(n, ['initial', 'onChange'])
      return t.createElement(s, { initial: { on: o }, onChange: i }, function(
        n
      ) {
        var t = n.setState
        return a(u, {
          on: n.state.on,
          toggle: function() {
            return t(function(n) {
              return { on: !n.on }
            })
          },
          set: function(n) {
            return t(function(t) {
              return { on: v(n, t.on) }
            })
          },
        })
      })
    }),
    (n.Touch = function(n) {
      var r = n.onChange,
        o = e(n, ['onChange'])
      return t.createElement(
        s,
        { initial: { isTouched: !1 }, onChange: r },
        function(n) {
          var t = n.setState
          return a(o, {
            isTouched: n.state.isTouched,
            bind: {
              onTouchStart: function() {
                return t({ isTouched: !0 })
              },
              onTouchEnd: function() {
                return t({ isTouched: !1 })
              },
            },
          })
        }
      )
    }),
    (n.Value = function(n) {
      var r = n.initial,
        o = n.onChange,
        i = e(n, ['initial', 'onChange'])
      return t.createElement(
        s,
        { initial: { value: r }, onChange: o },
        function(n) {
          var t = n.setState
          return a(i, {
            value: n.state.value,
            set: function(n) {
              return t(function(t) {
                return { value: v(n, t.value) }
              })
            },
          })
        }
      )
    }),
    (n.compose = f),
    (n.composeEvents = function() {
      for (var n = arguments.length, t = Array(n), e = 0; n > e; e++)
        t[e] = arguments[e]
      return t.reverse().reduce(function(n, t) {
        var e = {},
          r = function(r) {
            e[r] = n[r]
              ? function() {
                  t[r].apply(t, arguments), n[r].apply(n, arguments)
                }
              : t[r]
          }
        for (var i in t) r(i)
        return o({}, n, e)
      })
    }),
    (n.renderProps = a),
    Object.defineProperty(n, '__esModule', { value: !0 })
})
